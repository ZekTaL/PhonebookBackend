{"version":3,"sources":["components/PersonForm.js","components/Person.js","services/persons.js","components/Persons.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","align","value","newName","onChange","handleNameChange","rowSpan","type","newNumber","onKeyPress","isADigit","handleNumberChange","Person","person","deletePerson","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","PersonsToShow","setPersons","setNotificationMessage","map","key","find","p","window","confirm","personService","returnedPersons","filter","message","setTimeout","catch","error","deletePersonOf","Filter","newFilter","handleFilterChange","Notification","notificationMessage","className","App","useState","persons","setNewName","setNewNumber","setNewFilter","notificationType","useEffect","initialPersons","toLowerCase","includes","event","target","preventDefault","personObject","personToUpdate","returnedPerson","console","log","concat","alert","charCode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2fff0b50.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.addPerson}>  \r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td align='right'>Name: </td>\r\n              <td><input value={props.newName} onChange={props.handleNameChange} /></td>\r\n              <td rowSpan='2'><button type=\"submit\">ADD</button></td>\r\n            </tr>\r\n            <tr>\r\n              <td align='right'>Number: </td>\r\n              <td><input value={props.newNumber} onKeyPress={props.isADigit} onChange={props.handleNumberChange} /></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>  \r\n    </form>  \r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <tr>\r\n      <td align='right'>{person.name}</td>\r\n      <td align='center'>{' <> '}</td>\r\n      <td align='left'>{person.number}</td>\r\n      <td><button onClick={deletePerson}>DELETE</button></td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteP = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response)\r\n}\r\n\r\nexport default {getAll, create, update, deleteP}","import React from 'react'\r\nimport Person from './Person'\r\nimport personService from '../services/persons'\r\n\r\nconst Persons = ({PersonsToShow, setPersons, setNotificationMessage}) => {\r\n\r\n  const deletePersonOf = id => {\r\n    const person = PersonsToShow.find(p => p.id === id)\r\n  \r\n    if (window.confirm(`Delete ${person.name}?`))\r\n    {\r\n      personService\r\n      .deleteP(id)\r\n      .then(returnedPersons => {\r\n        setPersons(PersonsToShow.filter(person => person.id !== id))\r\n        setNotificationMessage({message: `Deleted '${person.name}'`, type: 'success'})\r\n        setTimeout(() => {setNotificationMessage({message: null})}, 5000)\r\n      })\r\n      .catch(error => {      \r\n        setNotificationMessage({message: `'${person.name}' was already deleted from server`, type: 'error'})\r\n        setTimeout(() => {setNotificationMessage({message: null})}, 5000)\r\n        setPersons(PersonsToShow.filter(p => p.id !== id))    \r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <table>\r\n      <tbody>\r\n        {PersonsToShow.map(person => <Person key={person.name} person={person} deletePerson={() => deletePersonOf(person.id)} />)}\r\n      </tbody>\r\n    </table>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>Search: <input value={props.newFilter} onChange={props.handleFilterChange} /></div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({notificationMessage}) => {\r\n    if (notificationMessage.message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className={notificationMessage.type}>\r\n        {notificationMessage.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => { \r\n  \r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('') \r\n  const [newNumber, setNewNumber] = useState('') \r\n  const [newFilter, setNewFilter] = useState('') \r\n  const [notificationMessage, setNotificationMessage] = useState({message: null, type: null})\r\n\r\n  const notificationType = {\r\n    error: 'error',\r\n    success: 'success'\r\n  }\r\n\r\n  useEffect(() => {     \r\n    personService      \r\n      .getAll()     \r\n      .then(initialPersons => {setPersons(initialPersons)}) \r\n  }, [])  \r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    if (newName === '' || newNumber === '')\r\n    {\r\n      window.alert('Name or Number is empty!')\r\n      return\r\n    }\r\n   \r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.map(person => person.name).includes(newName))\r\n    {\r\n      const personToUpdate = persons.find(person => person.name === newName)\r\n      if (personToUpdate.name === personObject.name && personToUpdate.number === personObject.number)\r\n      {\r\n        setNotificationMessage({message: 'Error! You are adding a duplicate!', type: notificationType.error})\r\n        setTimeout(() => {setNotificationMessage({message: null})}, 5000)\r\n        return\r\n      }\r\n\r\n      if (window.confirm(`'${newName}' is already added to phonebook! Replace the old number with the new one?`))\r\n      {  \r\n        personService\r\n          .update(personToUpdate.id, personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== personToUpdate.id ? person : returnedPerson))\r\n            setNotificationMessage({message: `'${personToUpdate.name}' updated!`, type: notificationType.success})\r\n            setTimeout(() => {setNotificationMessage({message: null})}, 5000)\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {    \r\n            console.log(error.response.data)\r\n            setNotificationMessage({message: error.response.data.error, type: notificationType.error})\r\n            setTimeout(() => {setNotificationMessage({message: null})}, 5000)   \r\n          })\r\n\r\n        return\r\n      }\r\n      else\r\n      {\r\n        return\r\n      }\r\n    }\r\n  \r\n    personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setNotificationMessage({message: `Added '${returnedPerson.name}'`, type: notificationType.success})\r\n        setTimeout(() => {setNotificationMessage({message: null})}, 5000)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response)\r\n        setNotificationMessage({message: error.response.data.error, type: notificationType.error})\r\n        setTimeout(() => {setNotificationMessage({message: null})}, 5000)\r\n        return\r\n      })\r\n  }\r\n\r\n  const handleNameChange = (event) => {   \r\n    setNewName(event.target.value)  \r\n  }\r\n\r\n  const handleNumberChange = (event) => {  \r\n    setNewNumber(event.target.value)  \r\n  }\r\n\r\n  const handleFilterChange = (event) => {  \r\n    setNewFilter(event.target.value)  \r\n  }\r\n\r\n  const isADigit = (event) => {\r\n    if ((event.charCode < 48 || event.charCode > 57) && event.charCode !== 45)\r\n    {\r\n      event.preventDefault()\r\n    }    \r\n  }\r\n\r\n  const PersonsToShow = newFilter === '' ? persons : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n  \r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification notificationMessage={notificationMessage} />\r\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\r\n      <h2>Add New Person</h2>\r\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} \r\n        newNumber={newNumber} handleNumberChange={handleNumberChange} isADigit={isADigit} />\r\n      <h2>Numbers</h2> \r\n      <Persons PersonsToShow={PersonsToShow} setPersons={setPersons} setNotificationMessage={setNotificationMessage} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}